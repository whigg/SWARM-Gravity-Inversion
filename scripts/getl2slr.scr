#! /bin/bash

if [ $# -lt 5 ]
then
  echo "usage: $0 year month CSR/JPL/GFZ (RL)04/05 (SLR)0/1"
  exit
fi



if [ ! $GRACEdata ]; then
    export GRACEdata=/0/share/shang.34/data/GRACE
fi





year=$1; month=$2
agency=$3
ver=$4
slr=$5



j2=-4.8416924731275E-04

j2perm=4.173576159e-09


if [ `expr length $ver` -eq 1 ]
        then  ver=0$ver
fi

#GRACEdata=/0/share/shang.34/data/GRACE/
dir_l2=$GRACEdata/L2/$agency/RL$ver


if [ `expr length $month` -eq 1 ]
        then  month=0$month
fi

file=$year-$month-$agency-RL$ver

cp -f $dir_l2/$file .

if [ $slr -eq 0 ]
    then exit
fi


epoch=$year-$month

case "$epoch" in
2001-01) J=-0.4841695371845E-03 ;;
2001-02) J=-0.4841694860033E-03 ;;
2001-03) J=-0.4841694572985E-03 ;;
2001-04) J=-0.4841694094025E-03 ;;
2001-05) J=-0.4841694065999E-03 ;;
2001-06) J=-0.4841694272552E-03 ;;
2001-07) J=-0.4841695207290E-03 ;;
2001-08) J=-0.4841695884243E-03 ;;
2001-09) J=-0.4841695712313E-03 ;;
2001-10) J=-0.4841695337336E-03 ;;
2001-11) J=-0.4841695299978E-03 ;;
2001-12) J=-0.4841694583184E-03 ;;
2002-01) J=-0.4841694691120E-03 ;;
2002-02) J=-0.4841694371123E-03 ;;
2002-03) J=-0.4841694091465E-03 ;;
2002-04) J=-0.4841693593721E-03 ;;
2002-05) J=-0.4841693910629E-03 ;;
2002-06) J=-0.4841694251921E-03 ;;
2002-07) J=-0.4841695504017E-03 ;;
2002-08) J=-0.4841695881911E-03 ;;
2002-09) J=-0.4841695497460E-03 ;;
2002-10) J=-0.4841695314961E-03 ;;
2002-11) J=-0.4841695079343E-03 ;;
2002-12) J=-0.4841694306711E-03 ;;
2003-01) J=-0.4841694315266E-03 ;;
2003-02) J=-0.4841694348913E-03 ;;
2003-03) J=-0.4841693832727E-03 ;;
2003-04) J=-0.4841693934308E-03 ;;
2003-05) J=-0.4841693950251E-03 ;;
2003-06) J=-0.4841694180029E-03 ;;
2003-07) J=-0.4841695528889E-03 ;;
2003-08) J=-0.4841695964474E-03 ;;
2003-09) J=-0.4841695439730E-03 ;;
2003-10) J=-0.4841695585708E-03 ;;
2003-11) J=-0.4841695042388E-03 ;;
2003-12) J=-0.4841694625399E-03 ;;
2004-01) J=-0.4841694606067E-03 ;;
2004-02) J=-0.4841694345624E-03 ;;
2004-03) J=-0.4841694178212E-03 ;;
2004-04) J=-0.4841694165320E-03 ;;
2004-05) J=-0.4841693916295E-03 ;;
2004-06) J=-0.4841694278420E-03 ;;
2004-07) J=-0.4841695232318E-03 ;;
2004-08) J=-0.4841695518672E-03 ;;
2004-09) J=-0.4841695214177E-03 ;;
2004-10) J=-0.4841694719957E-03 ;;
2004-11) J=-0.4841694908907E-03 ;;
2004-12) J=-0.4841694050067E-03 ;;
2005-01) J=-0.4841694319562E-03 ;;
2005-02) J=-0.4841693913962E-03 ;;
2005-03) J=-0.4841693363121E-03 ;;
2005-04) J=-0.4841693320825E-03 ;;
2005-05) J=-0.4841693526806E-03 ;;
2005-06) J=-0.4841693773771E-03 ;;
2005-07) J=-0.4841694784173E-03 ;;
2005-08) J=-0.4841695063346E-03 ;;
2005-09) J=-0.4841695259264E-03 ;;
2005-10) J=-0.4841694970874E-03 ;;
2005-11) J=-0.4841694999082E-03 ;;
2005-12) J=-0.4841694483084E-03 ;;
2006-01) J=-0.4841694495810E-03 ;;
2006-02) J=-0.4841694207157E-03 ;;
2006-03) J=-0.4841694118505E-03 ;;
2006-04) J=-0.4841694194808E-03 ;;
2006-05) J=-0.4841693986983E-03 ;;
2006-06) J=-0.4841693884009E-03 ;;
2006-07) J=-0.4841695162079E-03 ;;
2006-08) J=-0.4841695136424E-03 ;;
2006-09) J=-0.4841695171566E-03 ;;
2006-10) J=-0.4841694976465E-03 ;;
2006-11) J=-0.4841694372646E-03 ;;
2006-12) J=-0.4841693958592E-03 ;;
2007-01) J=-0.4841694763799E-03 ;;
2007-02) J=-0.4841693800409E-03 ;;
2007-03) J=-0.4841693690423E-03 ;;
2007-04) J=-0.4841694039056E-03 ;;
2007-05) J=-0.4841693831858E-03 ;;
2007-06) J=-0.4841694091547E-03 ;;
2007-07) J=-0.4841695181558E-03 ;;
2007-08) J=-0.4841695411735E-03 ;;
2007-09) J=-0.4841695212263E-03 ;;
2007-10) J=-0.4841695435271E-03 ;;
2007-11) J=-0.4841695412494E-03 ;;
2007-12) J=-0.4841694738024E-03 ;;
2008-01) J=-0.4841694938270E-03 ;;
2008-02) J=-0.4841694608583E-03 ;;
2008-03) J=-0.4841694106179E-03 ;;
2008-04) J=-0.4841693834258E-03 ;;
2008-05) J=-0.4841694110220E-03 ;;
2008-06) J=-0.4841694397258E-03 ;;
2008-07) J=-0.4841695395424E-03 ;;
2008-08) J=-0.4841695905623E-03 ;;
2008-09) J=-0.4841695268458E-03 ;;
2008-10) J=-0.4841695172229E-03 ;;
2008-11) J=-0.4841695208581E-03 ;;
2008-12) J=-0.4841695110001E-03 ;;
2009-01) J=-0.4841694765820E-03 ;;
2009-02) J=-0.4841694530538E-03 ;;
2009-03) J=-0.4841694590423E-03 ;;
2009-04) J=-0.4841694436092E-03 ;;
2009-05) J=-0.4841694498867E-03 ;;
2009-06) J=-0.4841694429268E-03 ;;
2009-07) J=-0.4841695234585E-03 ;;
2009-08) J=-0.4841695485941E-03 ;;
2009-09) J=-0.4841695580824E-03 ;;
2009-10) J=-0.4841695063548E-03 ;;
2009-11) J=-0.4841695129274E-03 ;;
2009-12) J=-0.4841694454111E-03 ;;
2010-01) J=-0.4841694497740E-03 ;;
2010-02) J=-0.4841694596470E-03 ;;
2010-03) J=-0.4841694201329E-03 ;;
2010-04) J=-0.4841694435959E-03 ;;
2010-05) J=-0.4841694056170E-03 ;;
2010-06) J=-0.4841694362064E-03 ;;
2010-07) J=-0.4841695743494E-03 ;;
2010-08) J=-0.4841695974890E-03 ;;
2010-09) J=-0.4841695902560E-03 ;;
2010-10) J=-0.4841696000372E-03 ;;
2010-11) J=-0.4841695398262E-03 ;;
2010-12) J=-0.4841694549992E-03 ;;
2011-01) J=-0.4841694950281E-03 ;;
2011-02) J=-0.4841694463018E-03 ;;
2011-03) J=-0.4841694738537E-03 ;;
2011-04) J=-0.4841694738879E-03 ;;
2011-05) J=-0.4841694661974E-03 ;;
2011-06) J=-0.4841694647176E-03 ;;
2011-07) J=-0.4841695822849E-03 ;;
2011-08) J=-0.4841695739314E-03 ;;
2011-09) J=-0.4841695677361E-03 ;;
2011-10) J=-0.4841695953753E-03 ;;
2011-11) J=-0.4841695729627E-03 ;;
2011-12) J=-0.4841695742499E-03 ;;
2012-01) J=-0.4841695866996E-03 ;;
2012-02) J=-0.4841695518052E-03 ;;
2012-03) J=-0.4841695275709E-03 ;;
2012-04) J=-0.4841695148200E-03 ;;
2012-05) J=-0.4841694731213E-03 ;;
2012-06) J=-0.4841695397941E-03 ;;
2012-07) J=-0.4841696634275E-03 ;;
2012-08) J=-0.4841696441770E-03 ;;
2012-09) J=-0.4841696122462E-03 ;;
2012-10) J=-0.4841695858912E-03 ;;
2012-11) J=-0.4841695517315E-03 ;;
2012-12) J=-0.4841695679780E-03 ;;
2013-01) J=-0.4841695575330E-03 ;;
2013-02) J=-0.4841695512656E-03 ;;
2013-03) J=-0.4841695167508E-03 ;;
2013-04) J=-0.4841694797757E-03 ;;
2013-05) J=-0.4841694822276E-03 ;;
2013-06) J=-0.4841695074228E-03 ;;
2013-07) J=-0.4841695351123E-03 ;;
2013-08) J=-0.4841695415834E-03 ;;
2013-09) J=-0.4841695150218E-03 ;;
2013-10) J=-0.4841695040288E-03 ;;
2013-11) J=-0.4841695238964E-03 ;;
2013-12) J=-0.4841694541159E-03 ;;
2014-01) J=-0.4841694695124E-03 ;;
2014-02) J=-0.4841694489162E-03 ;;
2014-03) J=-0.4841693784211E-03 ;;
2014-04) J=-0.4841694043778E-03 ;;
2014-05) J=-0.4841693790485E-03 ;;
*) J=$j2 ;;
esac

case "$agency" in
#GFZ) J=`awk 'BEGIN{print '$J'+'$j2perm'}'` ;;
GFZ) J=`awk 'BEGIN{printf"%.12e\n", '$J'+'$j2perm'}'` ;;
esac


echo GRCOF2 2 0 $J >>  $file


exit
